(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-776cf652"],{1264:function(t,e,a){},"22ef":function(t,e,a){t.exports=a.p+"img/back_icon@2x.f28030ed.png"},"2f94":function(t,e,a){"use strict";var s=a("b775");e["a"]={get:function(t){return Object(s["a"])({url:"/user/address/"+t,method:"get"})},changeDefault:function(t,e){return Object(s["a"])({url:"/user/address/"+t+"/"+e,method:"post"})},queryByUser:function(){return Object(s["a"])({url:"/user/address/queryByUser",method:"get"})},save:function(t){return Object(s["a"])({url:"/user/address/save",method:"post",data:t})},remove:function(t){return Object(s["a"])({url:"/user/address/"+t,method:"delete"})}}},"4d48":function(t,e,a){"use strict";a("68ef"),a("bf60")},"7b0a":function(t,e,a){},"81e6":function(t,e,a){"use strict";a("68ef"),a("7b0a")},"9b7e":function(t,e,a){},"9ffb":function(t,e,a){"use strict";var s=a("d282"),n=a("9884"),i=Object(s["a"])("col"),r=i[0],o=i[1];e["a"]=r({mixins:[Object(n["a"])("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.parent&&Number(this.parent.gutter)||0},style:function(){var t=this.index,e=this.gutter;if(e){var a=this.parent.children.length,s=e*(a-1)/a;return 0===t?{paddingRight:s+"px"}:t===a-1?{paddingLeft:s+"px"}:{paddingLeft:s/2+"px",paddingRight:s/2+"px"}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],a=this.span,s=this.offset;return e(this.tag,{style:this.style,class:o((t={},t[a]=a,t["offset-"+s]=s,t)),on:{click:this.onClick}},[this.slots()])}})},a3e2:function(t,e,a){"use strict";var s=a("2638"),n=a.n(s),i=a("d282"),r=a("ba31"),o=a("b1d2"),d=a("ad06"),c=Object(i["a"])("tag"),l=c[0],u=c[1];function f(t,e,a,s){var i,c,l=e.type,f=e.mark,b=e.plain,p=e.color,g=e.round,h=e.size,m=b?"color":"backgroundColor",v=(i={},i[m]=p,i);e.textColor&&(v.color=e.textColor);var j={mark:f,plain:b,round:g};h&&(j[h]=h);var k=e.closeable&&t(d["a"],{attrs:{name:"cross"},class:u("close"),on:{click:function(t){t.stopPropagation(),Object(r["a"])(s,"close")}}});return t("transition",{attrs:{name:e.closeable?"van-fade":null}},[t("span",n()([{key:"content",style:v,class:[u([j,l]),(c={},c[o["d"]]=b,c)]},Object(r["b"])(s,!0)]),[null==a.default?void 0:a.default(),k])])}f.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}},e["a"]=l(f)},b383:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-address-list",{attrs:{list:t.list,"disabled-text":""},on:{add:t.onAdd,edit:t.onEdit},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}}),t._v(" "),s("div",{staticClass:"nav",staticStyle:{display:"block"}},[s("a",{staticClass:"nav_left",attrs:{href:"javascript:void(0);"},on:{click:t.toIndex}},[s("img",{attrs:{width:"100%",src:a("b72a"),alt:""}})]),t._v(" "),t._m(0)])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);",onclick:"javascript:history.go(-1);"}},[s("img",{attrs:{width:"100%",src:a("22ef"),alt:""}})])}],i=a("bd86"),r=(a("5246"),a("6b41")),o=(a("c3a6"),a("ad06")),d=(a("81e6"),a("9ffb")),c=(a("4d48"),a("d1e1")),l=(a("e7e5"),a("d399")),u=(a("68ef"),a("9d70"),a("3743"),a("dde9"),a("9b7e"),a("1a04"),a("e3b3"),a("bc1b"),a("dc1b"),a("e2c8"),a("2638")),f=a.n(u),b=a("d282"),p=a("ba31"),g=a("b650"),h=a("e27c"),m=a("c31d"),v=a("a3e2"),j=a("7744"),k=a("9f14"),O=Object(b["a"])("address-item"),x=O[0],y=O[1];function T(t,e,a,s){var n=e.disabled,i=e.switchable;function r(){i&&Object(p["a"])(s,"select"),Object(p["a"])(s,"click")}var d=function(){return t(o["a"],{attrs:{name:"edit"},class:y("edit"),on:{click:function(t){t.stopPropagation(),Object(p["a"])(s,"edit"),Object(p["a"])(s,"click")}}})};function c(){if(e.data.isDefault&&e.defaultTagText)return t(v["a"],{attrs:{type:"danger",round:!0},class:y("tag")},[e.defaultTagText])}function l(){var a=e.data,s=[t("div",{class:y("name")},[a.name+" "+a.tel,c()]),t("div",{class:y("address")},[a.address])];return i&&!n?t(k["a"],{attrs:{name:a.id,iconSize:18}},[s]):s}return t("div",{class:y({disabled:n}),on:{click:r}},[t(j["a"],f()([{attrs:{border:!1,valueClass:y("value")},scopedSlots:{default:l,"right-icon":d}},Object(p["b"])(s)])),null==a.bottom?void 0:a.bottom(Object(m["a"])({},e.data,{disabled:n}))])}T.props={data:Object,disabled:Boolean,switchable:Boolean,defaultTagText:String};var S=x(T),w=Object(b["a"])("address-list"),A=w[0],I=w[1],C=w[2];function B(t,e,a,s){function n(n,i){if(n)return n.map((function(n,r){return t(S,{attrs:{data:n,disabled:i,switchable:e.switchable,defaultTagText:e.defaultTagText},key:n.id,scopedSlots:{bottom:a["item-bottom"]},on:{select:function(){Object(p["a"])(s,i?"select-disabled":"select",n,r),i||Object(p["a"])(s,"input",n.id)},edit:function(){Object(p["a"])(s,i?"edit-disabled":"edit",n,r)},click:function(){Object(p["a"])(s,"click-item",n,r)}}})}))}var i=n(e.list),r=n(e.disabledList,!0);return t("div",f()([{class:I()},Object(p["b"])(s)]),[null==a.top?void 0:a.top(),t(h["a"],{attrs:{value:e.value}},[i]),e.disabledText&&t("div",{class:I("disabled-text")},[e.disabledText]),r,null==a.default?void 0:a.default(),t("div",{class:I("bottom")},[t(g["a"],{attrs:{round:!0,block:!0,type:"danger",text:e.addButtonText||C("add")},class:I("add"),on:{click:function(){Object(p["a"])(s,"add")}}})])])}B.props={list:Array,value:[Number,String],disabledList:Array,disabledText:String,addButtonText:String,defaultTagText:String,switchable:{type:Boolean,default:!0}};var _,$=A(B),P=a("2f94"),L=a("5d2d"),U={components:(_={},Object(i["a"])(_,$.name,$),Object(i["a"])(_,l["a"].name,l["a"]),Object(i["a"])(_,c["a"].name,c["a"]),Object(i["a"])(_,d["a"].name,d["a"]),Object(i["a"])(_,o["a"].name,o["a"]),Object(i["a"])(_,r["a"].name,r["a"]),_),data:function(){return{activeFooter:3,chosenAddressId:0,list:[]}},mounted:function(){this.init()},watch:{chosenAddressId:function(t){L["a"].set("chosenAddressId",t)}},methods:{init:function(){var t=this;P["a"].queryByUser().then((function(e){var a=e.data;for(var s in t.list=e.data,a)a[s].address=a[s].province+a[s].city+a[s].district+a[s].addressDetail,a[s].tel=a[s].mobile,!0===a[s].isDefault&&(t.chosenAddressId=t.list[s].id)})).catch((function(t){Object(l["a"])(t.response.data.message)}))},onAdd:function(){Object(l["a"])("新增地址"),this.$router.push("address/edit")},onEdit:function(t,e){this.$router.push({path:"address/edit",query:{id:t.id}})},onClickLeft:function(){L["a"].set("chosenAddressId",this.chosenAddressId),this.$router.go(-1)},toIndex:function(){this.$router.push({path:"/index"})}}},q=U,N=(a("c1b0"),a("2877")),R=Object(N["a"])(q,s,n,!1,null,null,null);e["default"]=R.exports},b72a:function(t,e,a){t.exports=a.p+"img/home_icon@2x.f878df37.png"},b775:function(t,e,a){"use strict";var s=a("bc3a"),n=a.n(s),i=(a("41cb"),a("4360")),r=a("5d2d"),o=n.a.create({baseURL:"/mobile",withCredentials:!0,timeout:15e3});o.interceptors.request.use((function(t){return r["a"].getToken()&&(t.headers["Authorization"]=r["a"].getToken()),r["a"].getOpenId()&&(t.headers["openId"]=r["a"].getOpenId()),t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){t.headers.token&&i["a"].dispatch("app/toggleToken",t.headers.token);var e=t.data;return e}),(function(t){if(t.response)switch(t.response.status){case 401:return i["a"].dispatch("app/toggleUser",{}),i["a"].dispatch("app/toggleToken",""),Promise.reject(t.response.data.message);case 500:return t.response.data.message&&t.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),i["a"].dispatch("app/toggleUser",{}),i["a"].dispatch("app/toggleToken",""),Promise.reject(t.response.data.message)):Promise.reject(t.response.data.message);default:return Promise.reject(t.response.data.message)}})),e["a"]=o},bf60:function(t,e,a){},c1b0:function(t,e,a){"use strict";var s=a("1264"),n=a.n(s);n.a},c3a6:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743")},d1e1:function(t,e,a){"use strict";var s=a("d282"),n=a("9884"),i=Object(s["a"])("row"),r=i[0],o=i[1];e["a"]=r({mixins:[Object(n["b"])("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],a=this.align,s=this.justify,n="flex"===this.type;return e(this.tag,{class:o((t={flex:n},t["align-"+a]=n&&a,t["justify-"+s]=n&&s,t)),on:{click:this.onClick}},[this.slots()])}})},e2c8:function(t,e,a){}}]);