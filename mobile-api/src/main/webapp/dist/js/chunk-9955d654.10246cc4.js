(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9955d654"],{"0653":function(t,e,n){"use strict";n("68ef"),n("5c56")},"09fe":function(t,e,n){},"34e9":function(t,e,n){"use strict";var a=n("2638"),o=n.n(a),r=n("d282"),i=n("ba31"),s=n("b1d2"),c=Object(r["a"])("cell-group"),u=c[0],d=c[1];function l(t,e,n,a){var r,c=t("div",o()([{class:[d(),(r={},r[s["f"]]=e.border,r)]},Object(i["b"])(a,!0)]),[null==n.default?void 0:n.default()]);return e.title||n.title?t("div",[t("div",{class:d("title")},[n.title?n.title():e.title]),c]):c}l.props={title:String,border:{type:Boolean,default:!0}},e["a"]=u(l)},4056:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("09fe")},"44bf":function(t,e,n){"use strict";var a=n("2638"),o=n.n(a),r=n("d282"),i=n("a142"),s=n("ea8e"),c=n("ad06"),u=Object(r["a"])("image"),d=u[0],l=u[1];e["a"]=d({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"warning-o"},loadingIcon:{type:String,default:"photo-o"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return Object(i["b"])(this.width)&&(t.width=Object(s["a"])(this.width)),Object(i["b"])(this.height)&&(t.height=Object(s["a"])(this.height)),Object(i["b"])(this.radius)&&(t.overflow="hidden",t.borderRadius=Object(s["a"])(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var e=t.el;e===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var e=t.el;e!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading?t("div",{class:l("loading")},[this.slots("loading")||t(c["a"],{attrs:{name:this.loadingIcon},class:l("loading-icon")})]):this.error&&this.showError?t("div",{class:l("error")},[this.slots("error")||t(c["a"],{attrs:{name:this.errorIcon},class:l("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,e={class:l("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",o()([{ref:"image",directives:[{name:"lazy",value:this.src}]},e])):t("img",o()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},e]))}},render:function(){var t=arguments[0];return t("div",{class:l({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder()])}})},"4d48":function(t,e,n){"use strict";n("68ef"),n("bf60")},"4ddd":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("dde9")},"5c56":function(t,e,n){},"66b9":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e3b3"),n("bc1b")},"7b0a":function(t,e,n){},"7ded":function(t,e,n){"use strict";var a=n("b775");e["a"]={loginOrReg:function(t,e){return Object(a["a"])({url:"/loginOrReg",method:"post",params:{mobile:t,smsCode:e}})},loginByPassword:function(t,e){return Object(a["a"])({url:"/loginByPass",method:"post",params:{mobile:t,password:e}})},sendSmsCode:function(t){return Object(a["a"])({url:"/sendSmsCode",method:"post",params:{mobile:t}})},logout:function(){return Object(a["a"])({url:"/logout",method:"post"})}}},"81e6":function(t,e,n){"use strict";n("68ef"),n("7b0a")},"8a58":function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75")},9354:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setting"},[n("van-cell-group",[n("van-cell",{attrs:{icon:"flower-o",title:"头像","is-link":"",to:"avatar"}},[n("van-image",{attrs:{round:"",width:"30",height:"30",src:t.avatarUrl}})],1),t._v(" "),n("van-cell",{attrs:{icon:"user-o",title:"姓名",value:t.user.nickName,"is-link":"",to:"updateUserName"}}),t._v(" "),n("van-cell",{attrs:{icon:"share",title:"性别","is-link":"",value:t.user.genderStr},on:{click:function(e){t.showGender=!0}}}),t._v(" "),n("van-cell",{attrs:{icon:"closed-eye",title:"修改密码","is-link":"",to:"updatePwd"}}),t._v(" "),n("van-cell",{attrs:{icon:"phone-o",title:"更换手机","is-link":"",to:"updateMobile"}})],1),t._v(" "),n("div",{staticClass:"logout"},[n("van-button",{attrs:{type:"danger",plain:"",round:"",block:""},on:{click:t.onLogout}},[t._v("退出登录")])],1),t._v(" "),n("van-popup",{style:{padding:"20px",width:"50px",height:"50px"},model:{value:t.showGender,callback:function(e){t.showGender=e},expression:"showGender"}},[n("van-radio-group",{on:{change:t.onChangeGender},model:{value:t.user.gender,callback:function(e){t.$set(t.user,"gender",e)},expression:"user.gender"}},[n("van-radio",{attrs:{name:"male"}},[t._v("男")]),t._v(" "),n("van-radio",{attrs:{name:"female"}},[t._v("女")])],1)],1)],1)},r=[],i=n("bd86"),s=(n("4ddd"),n("9f14")),c=(n("a44c"),n("e27c")),u=(n("8a58"),n("e41f")),d=(n("4056"),n("44bf")),l=(n("e7e5"),n("d399")),h=(n("5246"),n("6b41")),f=(n("0653"),n("34e9")),p=(n("c194"),n("7744")),g=(n("c3a6"),n("ad06")),m=(n("81e6"),n("9ffb")),b=(n("66b9"),n("b650")),v=(n("4d48"),n("d1e1")),j=n("7ded"),O=n("c24f"),y=n("4360"),k="/mobile",w={components:(a={},Object(i["a"])(a,v["a"].name,v["a"]),Object(i["a"])(a,b["a"].name,b["a"]),Object(i["a"])(a,m["a"].name,m["a"]),Object(i["a"])(a,g["a"].name,g["a"]),Object(i["a"])(a,p["a"].name,p["a"]),Object(i["a"])(a,f["a"].name,f["a"]),Object(i["a"])(a,h["a"].name,h["a"]),Object(i["a"])(a,l["a"].name,l["a"]),Object(i["a"])(a,d["a"].name,d["a"]),Object(i["a"])(a,u["a"].name,u["a"]),Object(i["a"])(a,c["a"].name,c["a"]),Object(i["a"])(a,s["a"].name,s["a"]),a),store:y["a"],data:function(){return{avatarUrl:"http://microapp.gitee.io/linjiashop/logo.jpg",user:{},showGender:!1}},mounted:function(){this.init()},methods:{init:function(){this.user=y["a"].state.app.user,this.user.avatar&&(this.avatarUrl=k+"/rest/file/getImgStream?idFile="+this.user.avatar)},onClickLeft:function(){this.$router.go(-1)},onChangeGender:function(t){var e=this;this.user.gender=t,this.user.genderStr="male"===t?"男":"女",O["a"].updateGender(t).then((function(t){y["a"].dispatch("app/toggleUser",e.user),e.showGender=!1}))},onLogout:function(){var t=this;console.log("logout"),j["a"].logout().then((function(e){y["a"].dispatch("app/toggleUser",{}),y["a"].dispatch("app/toggleToken",""),t.$router.push({path:"/index"})})).catch((function(t){}))}}},S=w,L=(n("a405"),n("2877")),C=Object(L["a"])(S,o,r,!1,null,null,null);e["default"]=C.exports},"9ffb":function(t,e,n){"use strict";var a=n("d282"),o=n("9884"),r=Object(a["a"])("col"),i=r[0],s=r[1];e["a"]=i({mixins:[Object(o["a"])("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.parent&&Number(this.parent.gutter)||0},style:function(){var t=this.index,e=this.gutter;if(e){var n=this.parent.children.length,a=e*(n-1)/n;return 0===t?{paddingRight:a+"px"}:t===n-1?{paddingLeft:a+"px"}:{paddingLeft:a/2+"px",paddingRight:a/2+"px"}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.span,a=this.offset;return e(this.tag,{style:this.style,class:s((t={},t[n]=n,t["offset-"+a]=a,t)),on:{click:this.onClick}},[this.slots()])}})},a405:function(t,e,n){"use strict";var a=n("c71e"),o=n.n(a);o.a},a44c:function(t,e,n){"use strict";n("68ef"),n("dc1b")},b775:function(t,e,n){"use strict";var a=n("bc3a"),o=n.n(a),r=(n("41cb"),n("4360")),i=n("5d2d"),s=o.a.create({baseURL:"/mobile",withCredentials:!0,timeout:15e3});s.interceptors.request.use((function(t){return i["a"].getToken()&&(t.headers["Authorization"]=i["a"].getToken()),i["a"].getOpenId()&&(t.headers["openId"]=i["a"].getOpenId()),t}),(function(t){return Promise.reject(t)})),s.interceptors.response.use((function(t){t.headers.token&&r["a"].dispatch("app/toggleToken",t.headers.token);var e=t.data;return e}),(function(t){if(t.response)switch(t.response.status){case 401:return r["a"].dispatch("app/toggleUser",{}),r["a"].dispatch("app/toggleToken",""),Promise.reject(t.response.data.message);case 500:return t.response.data.message&&t.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),r["a"].dispatch("app/toggleUser",{}),r["a"].dispatch("app/toggleToken",""),Promise.reject(t.response.data.message)):Promise.reject(t.response.data.message);default:return Promise.reject(t.response.data.message)}})),e["a"]=s},bf60:function(t,e,n){},c194:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04")},c24f:function(t,e,n){"use strict";var a=n("b775");e["a"]={getUserInfo:function(){return Object(a["a"])({url:"/shop/user/getInfo",method:"post"})},updateUserName:function(t){return Object(a["a"])({url:"/user/updateUserName/"+t,method:"post"})},updatePwd:function(t){return Object(a["a"])({url:"/account/updatePwd",method:"post",params:t})},updateGender:function(t){return Object(a["a"])({url:"/user/updateGender/"+t,method:"post"})},updatePassword:function(t,e,n){return Object(a["a"])({url:"/user/updatePassword/"+t+"/"+e+"/"+n,method:"post"})},upload:function(t){return console.log("file",t),Object(a["a"])({url:"/file/upload/base64",method:"post",data:t})},sendSmsCode:function(t){return Object(a["a"])({url:"/user/sendSmsCode",method:"post",params:{mobile:t}})},getTask:function(){return Object(a["a"])({url:"/shop/user/tasks",method:"post"})},getMyTeam:function(){return Object(a["a"])({url:"/shop/user/team",method:"post"})},getMyRecommend:function(){return Object(a["a"])({url:"/shop/user/recommend",method:"post"})}}},c3a6:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743")},c71e:function(t,e,n){},d1e1:function(t,e,n){"use strict";var a=n("d282"),o=n("9884"),r=Object(a["a"])("row"),i=r[0],s=r[1];e["a"]=i({mixins:[Object(o["b"])("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.align,a=this.justify,o="flex"===this.type;return e(this.tag,{class:s((t={flex:o},t["align-"+n]=o&&n,t["justify-"+a]=o&&a,t)),on:{click:this.onClick}},[this.slots()])}})},e41f:function(t,e,n){"use strict";var a=n("d282"),o=n("a142"),r=n("6605"),i=n("ad06"),s=Object(a["a"])("popup"),c=s[0],u=s[1];e["a"]=c({mixins:[Object(r["a"])()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(n){return t.$emit(e,n)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.round,a=this.position,r=this.duration,s="center"===a,c=this.transition||(s?"van-fade":"van-popup-slide-"+a),d={};if(Object(o["b"])(r)){var l=s?"animationDuration":"transitionDuration";d[l]=r+"s"}return e("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:d,class:u((t={round:n},t[a]=a,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(i["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:u("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})}}]);