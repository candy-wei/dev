(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46304444"],{"0653":function(e,t,n){"use strict";n("68ef"),n("5c56")},"092d":function(e,t,n){"use strict";function a(e){var t=e.parentNode;t&&t.removeChild(e)}n.d(t,"a",(function(){return a}))},"0fee":function(e,t,n){},2987:function(e,t,n){},"34e9":function(e,t,n){"use strict";var a=n("2638"),o=n.n(a),i=n("d282"),r=n("ba31"),s=n("b1d2"),c=Object(i["a"])("cell-group"),l=c[0],d=c[1];function u(e,t,n,a){var i,c=e("div",o()([{class:[d(),(i={},i[s["f"]]=t.border,i)]},Object(r["b"])(a,!0)]),[null==n.default?void 0:n.default()]);return t.title||n.title?e("div",[e("div",{class:d("title")},[n.title?n.title():t.title]),c]):c}u.props={title:String,border:{type:Boolean,default:!0}},t["a"]=l(u)},3647:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("5c56"),n("0fee")},"4d75":function(e,t,n){},"5c56":function(e,t,n){},"61e6":function(e,t,n){"use strict";var a=n("2987"),o=n.n(a);o.a},6605:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a,o={zIndex:2e3,lockCount:0,stack:[],get top(){return this.stack[this.stack.length-1]}},i=n("c31d"),r=n("6e47"),s=n("ba31"),c={className:"",customStyle:{}};function l(){if(o.top){var e=o.top.vm;e.$emit("click-overlay"),e.closeOnClickOverlay&&(e.onClickOverlay?e.onClickOverlay():e.close())}}function d(){a=Object(s["c"])(r["a"],{on:{click:l}})}function u(){if(a||d(),o.top){var e=o.top,t=e.vm,n=e.config,r=t.$el;r&&r.parentNode?r.parentNode.insertBefore(a.$el,r):document.body.appendChild(a.$el),Object(i["a"])(a,c,n,{show:!0})}else a.show=!1}function f(e,t){o.stack.some((function(t){return t.vm===e}))||(o.stack.push({vm:e,config:t}),u())}function h(e){var t=o.stack;t.length&&(o.top.vm===e?(t.pop(),u()):o.stack=t.filter((function(t){return t.vm!==e})))}var p=n("1325"),v=n("092d"),b=n("a8c1"),m=n("3875"),g=n("2b0e");function O(e){return"string"===typeof e?document.querySelector(e):e()}function y(e){var t=e.ref,n=e.afterPortal;return g["a"].extend({props:{getContainer:[String,Function]},watch:{getContainer:"portal"},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var e,a=this.getContainer,o=t?this.$refs[t]:this.$el;a?e=O(a):this.$parent&&(e=this.$parent.$el),e&&e!==o.parentNode&&e.appendChild(o),n&&n.call(this)}}})}var k=n("5fbe"),j={mixins:[Object(k["a"])((function(e,t){this.handlePopstate(t&&this.closeOnPopstate)}))],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(e){this.handlePopstate(e)}},methods:{handlePopstate:function(e){var t=this;if(!this.$isServer&&this.bindStatus!==e){this.bindStatus=e;var n=e?p["b"]:p["a"];n(window,"popstate",(function(){t.close(),t.shouldReopen=!1}))}}}},S={value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}};function C(e){return void 0===e&&(e={}),{mixins:[m["a"],j,y({afterPortal:function(){this.overlay&&u()}})],props:S,data:function(){return{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(t){var n=t?"open":"close";this.inited=this.inited||this.value,this[n](),e.skipToggleEvent||this.$emit(n)},overlay:"renderOverlay"},mounted:function(){this.value&&this.open()},activated:function(){this.shouldReopen&&(this.$emit("input",!0),this.shouldReopen=!1)},beforeDestroy:function(){this.close(),this.getContainer&&Object(v["a"])(this.$el)},deactivated:function(){this.value&&(this.close(),this.shouldReopen=!0)},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(o.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.lockScroll&&(Object(p["b"])(document,"touchstart",this.touchStart),Object(p["b"])(document,"touchmove",this.onTouchMove),o.lockCount||document.body.classList.add("van-overflow-hidden"),o.lockCount++))},close:function(){this.opened&&(this.lockScroll&&(o.lockCount--,Object(p["a"])(document,"touchstart",this.touchStart),Object(p["a"])(document,"touchmove",this.onTouchMove),o.lockCount||document.body.classList.remove("van-overflow-hidden")),this.opened=!1,h(this),this.$emit("input",!1))},onTouchMove:function(e){this.touchMove(e);var t=this.deltaY>0?"10":"01",n=Object(b["d"])(e.target,this.$el),a=n.scrollHeight,o=n.offsetHeight,i=n.scrollTop,r="11";0===i?r=o>=a?"00":"01":i+o>=a&&(r="10"),"11"===r||"vertical"!==this.direction||parseInt(r,2)&parseInt(t,2)||Object(p["c"])(e,!0)},renderOverlay:function(){var e=this;!this.$isServer&&this.value&&this.$nextTick((function(){e.updateZIndex(e.overlay?1:0),e.overlay?f(e,{zIndex:o.zIndex++,duration:e.duration,className:e.overlayClass,customStyle:e.overlayStyle}):h(e)}))},updateZIndex:function(e){void 0===e&&(e=0),this.$el.style.zIndex=++o.zIndex+e}}}}},"66b9":function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e3b3"),n("bc1b")},"6e47":function(e,t,n){"use strict";var a=n("2638"),o=n.n(a),i=n("c31d"),r=n("d282"),s=n("a142"),c=n("ba31"),l=n("1325"),d=Object(r["a"])("overlay"),u=d[0],f=d[1];function h(e){Object(l["c"])(e,!0)}function p(e,t,n,a){var r=Object(i["a"])({zIndex:t.zIndex},t.customStyle);return Object(s["b"])(t.duration)&&(r.animationDuration=t.duration+"s"),e("transition",{attrs:{name:"van-fade"}},[e("div",o()([{directives:[{name:"show",value:t.show}],style:r,class:[f(),t.className],on:{touchmove:t.lockScroll?h:s["g"]}},Object(c["b"])(a,!0)]),[null==n.default?void 0:n.default()])])}p.props={show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object,lockScroll:{type:Boolean,default:!0}},t["a"]=u(p)},a71a:function(e,t,n){},b258:function(e,t,n){},b30f:function(e,t,n){"use strict";var a=n("b775");t["a"]={save:function(e){return Object(a["a"])({url:"/shop/order/save",method:"post",params:e})},get:function(e){return Object(a["a"])({url:"/shop/order/"+e,method:"get"})},remove:function(e){return Object(a["a"])({url:"/shop/order/cancel/"+e,method:"post"})},getOrders:function(e){return Object(a["a"])({url:"/shop/order/getOrders",method:"get",params:e})},prepareCheckout:function(e){return Object(a["a"])({url:"/shop/order/prepareCheckout",params:e,method:"get"})},confirm:function(e){return Object(a["a"])({url:"/shop/order/confirm/"+e,method:"post"})}}},b650:function(e,t,n){"use strict";var a=n("c31d"),o=n("2638"),i=n.n(o),r=n("d282"),s=n("ba31"),c=n("b1d2"),l=n("48f4"),d=n("ad06"),u=n("543e"),f=Object(r["a"])("button"),h=f[0],p=f[1];function v(e,t,n,a){var o,r=t.tag,f=t.icon,h=t.type,v=t.color,b=t.plain,m=t.disabled,g=t.loading,O=t.hairline,y=t.loadingText,k={};function j(e){g||m||(Object(s["a"])(a,"click",e),Object(l["a"])(a))}function S(e){Object(s["a"])(a,"touchstart",e)}v&&(k.color=b?v:c["h"],b||(k.background=v),-1!==v.indexOf("gradient")?k.border=0:k.borderColor=v);var C=[p([h,t.size,{plain:b,loading:g,disabled:m,hairline:O,block:t.block,round:t.round,square:t.square}]),(o={},o[c["d"]]=O,o)];function x(){var a,o=[];return g?o.push(e(u["a"],{class:p("loading"),attrs:{size:t.loadingSize,type:t.loadingType,color:"currentColor"}})):f&&o.push(e(d["a"],{attrs:{name:f,classPrefix:t.iconPrefix},class:p("icon")})),a=g?y:n.default?n.default():t.text,a&&o.push(e("span",{class:p("text")},[a])),o}return e(r,i()([{style:k,class:C,attrs:{type:t.nativeType,disabled:m},on:{click:j,touchstart:S}},Object(s["b"])(a)]),[x()])}v.props=Object(a["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),t["a"]=h(v)},b775:function(e,t,n){"use strict";var a=n("bc3a"),o=n.n(a),i=(n("41cb"),n("4360")),r=n("5d2d"),s=o.a.create({baseURL:"/mobile",withCredentials:!0,timeout:15e3});s.interceptors.request.use((function(e){return r["a"].getToken()&&(e.headers["Authorization"]=r["a"].getToken()),r["a"].getOpenId()&&(e.headers["openId"]=r["a"].getOpenId()),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){e.headers.token&&i["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return t}),(function(e){if(e.response)switch(e.response.status){case 401:return i["a"].dispatch("app/toggleUser",{}),i["a"].dispatch("app/toggleToken",""),Promise.reject(e.response.data.message);case 500:return e.response.data.message&&e.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),i["a"].dispatch("app/toggleUser",{}),i["a"].dispatch("app/toggleToken",""),Promise.reject(e.response.data.message)):Promise.reject(e.response.data.message);default:return Promise.reject(e.response.data.message)}})),t["a"]=s},bc1b:function(e,t,n){},c194:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04")},cd5a:function(e,t,n){"use strict";n.r(t);var a,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"order_detail"},[n("van-panel",{attrs:{title:e.order.address.name+" "+e.order.address.tel,status:e.order.statusName}},[n("div",{staticClass:"address_detail"},[e._v("\n        "+e._s(e.order.address.province)+e._s(e.order.address.city)+e._s(e.order.address.district)+e._s(e.order.address.addressDetail)+"\n        "),n("br")]),e._v(" "),n("div",{staticClass:"footer_btn",attrs:{slot:"footer"},slot:"footer"},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:"待付款"==e.order.statusName,expression:"order.statusName=='待付款'"}],attrs:{size:"small",type:"danger"},on:{click:e.payment}},[e._v("立即付款")]),e._v(" "),n("van-button",{directives:[{name:"show",rawName:"v-show",value:"已发货"==e.order.statusName,expression:"order.statusName=='已发货'"}],attrs:{size:"small",type:"danger"},on:{click:e.confirmReceive}},[e._v("确认收货")])],1)]),e._v(" "),n("van-panel",{attrs:{title:"订单编号: "+e.order.orderSn}},[e._l(e.order.items,(function(t,a){return n("van-card",{key:a,attrs:{title:t.goods.name,desc:t.goods.descript,price:e.formatPrice(t.price),num:t.count,thumb:e.imgUrl+t.goods.pic},on:{click:function(n){return e.toGoods(t.goods.id)}}})})),e._v(" "),n("div",{staticClass:"total"},[e._v("合计: "+e._s(e.formatPrice(e.order.totalPrice)))])],2),e._v(" "),n("van-panel",{attrs:{title:"订单信息"}},[n("van-cell-group",[n("van-cell",{attrs:{title:"订单编号",value:e.order.orderSn}}),e._v(" "),n("van-cell",{attrs:{title:"备注",value:e.order.message}}),e._v(" "),n("van-cell",{attrs:{title:"创建时间",value:e.order.createTime}})],1)],1),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("br")],1),e._v(" "),n("van-tabbar",{model:{value:e.activeFooter,callback:function(t){e.activeFooter=t},expression:"activeFooter"}},[n("van-tabbar-item",{attrs:{icon:"home-o",replace:"",to:"/index"}},[e._v("首页")]),e._v(" "),n("van-tabbar-item",{attrs:{icon:"search",replace:"",to:"/search"}},[e._v("发现")]),e._v(" "),n("van-tabbar-item",{attrs:{icon:"cart-o",replace:"",to:"/cart"}},[e._v("购物车")]),e._v(" "),n("van-tabbar-item",{attrs:{icon:"user-o",replace:"",to:"/user"}},[e._v("我的")])],1)],1)},i=[],r=(n("e7e5"),n("d399")),s=n("bd86"),c=(n("66b9"),n("b650")),l=(n("2994"),n("2bdd")),d=(n("3647"),n("ea47")),u=(n("a52c"),n("2ed4")),f=(n("bda7"),n("5e46")),h=(n("537a"),n("ac28")),p=(n("da3c"),n("0b33")),v=(n("5246"),n("6b41")),b=(n("a909"),n("3acc")),m=(n("be39"),n("efa0")),g=(n("3c32"),n("417e")),O=(n("9cb7"),n("66fd")),y=(n("81e6"),n("9ffb")),k=(n("4d48"),n("d1e1")),j=(n("0653"),n("34e9")),S=(n("c194"),n("7744")),C=n("b30f"),x="/mobile",$={components:(a={},Object(s["a"])(a,S["a"].name,S["a"]),Object(s["a"])(a,j["a"].name,j["a"]),Object(s["a"])(a,k["a"].name,k["a"]),Object(s["a"])(a,y["a"].name,y["a"]),Object(s["a"])(a,O["a"].name,O["a"]),Object(s["a"])(a,g["a"].name,g["a"]),Object(s["a"])(a,m["a"].name,m["a"]),Object(s["a"])(a,b["a"].name,b["a"]),Object(s["a"])(a,v["a"].name,v["a"]),Object(s["a"])(a,p["a"].name,p["a"]),Object(s["a"])(a,h["a"].name,h["a"]),Object(s["a"])(a,f["a"].name,f["a"]),Object(s["a"])(a,u["a"].name,u["a"]),Object(s["a"])(a,d["a"].name,d["a"]),Object(s["a"])(a,l["a"].name,l["a"]),Object(s["a"])(a,c["a"].name,c["a"]),a),data:function(){return{activeFooter:3,title:"",imgUrl:x+"/rest/file/getImgStream?idFile=",order:{orderSn:"",address:{name:""}}}},mounted:function(){this.init()},methods:{init:function(){this.order.orderSn=this.$route.params.orderSn,this.getData()},getData:function(){var e=this;C["a"].get(this.order.orderSn).then((function(t){e.order=t.data}))},formatPrice:function(e){return(e/100).toFixed(2)},toGoods:function(e){this.$router.push({path:"/goods/"+e})},confirmReceive:function(){var e=this;Object(r["a"])("敬请期待"),C["a"].confirm(this.order.orderSn).then((function(t){e.order=t.data}))},payment:function(){this.$router.push({path:"/payment",query:{orderSn:this.order.orderSn,totalPrice:this.order.totalPrice}})},contact:function(){Object(r["a"])("敬请期待")},onClickLeft:function(){this.$router.go(-1)}}},_=$,w=(n("61e6"),n("2877")),P=Object(w["a"])(_,o,i,!1,null,null,null);t["default"]=P.exports},d399:function(e,t,n){"use strict";var a=n("c31d"),o=n("2b0e"),i=n("d282"),r=n("a142"),s=0;function c(e){e?(s||document.body.classList.add("van-toast--unclickable"),s++):(s--,s||document.body.classList.remove("van-toast--unclickable"))}var l=n("6605"),d=n("ad06"),u=n("543e"),f=Object(i["a"])("toast"),h=f[0],p=f[1],v=h({mixins:[Object(l["a"])()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var e=this.value&&this.forbidClick;this.clickable!==e&&(this.clickable=e,c(e))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var e=this.$createElement,t=this.icon,n=this.type,a=this.iconPrefix,o=this.loadingType,i=t||"success"===n||"fail"===n;return i?e(d["a"],{class:p("icon"),attrs:{classPrefix:a,name:t||n}}):"loading"===n?e(u["a"],{class:p("loading"),attrs:{type:o}}):void 0},genMessage:function(){var e=this.$createElement,t=this.type,n=this.message;if(Object(r["b"])(n)&&""!==n)return"html"===t?e("div",{class:p("text"),domProps:{innerHTML:n}}):e("div",{class:p("text")},[n])}},render:function(){var e,t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[p([this.position,(e={},e[this.type]=!this.icon,e)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),b=n("092d"),m={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},g={},O=[],y=!1,k=Object(a["a"])({},m);function j(e){return Object(r["d"])(e)?e:{message:e}}function S(){if(r["f"])return{};if(!O.length||y){var e=new(o["a"].extend(v))({el:document.createElement("div")});e.$on("input",(function(t){e.value=t})),O.push(e)}return O[O.length-1]}function C(e){return Object(a["a"])({},e,{overlay:e.mask||e.overlay,mask:void 0,duration:void 0})}function x(e){void 0===e&&(e={});var t=S();return t.value&&t.updateZIndex(),e=j(e),e=Object(a["a"])({},k,{},g[e.type||k.type],{},e),e.clear=function(){t.value=!1,e.onClose&&e.onClose(),y&&!r["f"]&&t.$on("closed",(function(){clearTimeout(t.timer),O=O.filter((function(e){return e!==t})),Object(b["a"])(t.$el),t.$destroy()}))},Object(a["a"])(t,C(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout((function(){t.clear()}),e.duration)),t}var $=function(e){return function(t){return x(Object(a["a"])({type:e},j(t)))}};["loading","success","fail"].forEach((function(e){x[e]=$(e)})),x.clear=function(e){O.length&&(e?(O.forEach((function(e){e.clear()})),O=[]):y?O.shift().clear():O[0].clear())},x.setDefaultOptions=function(e,t){"string"===typeof e?g[e]=t:Object(a["a"])(k,e)},x.resetDefaultOptions=function(e){"string"===typeof e?g[e]=null:(k=Object(a["a"])({},m),g={})},x.allowMultiple=function(e){void 0===e&&(e=!0),y=e},x.install=function(){o["a"].use(v)},o["a"].prototype.$toast=x;t["a"]=x},e7e5:function(e,t,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("b258")},ea47:function(e,t,n){"use strict";var a=n("2638"),o=n.n(a),i=n("d282"),r=n("ba31"),s=n("b1d2"),c=n("7744"),l=n("34e9"),d=Object(i["a"])("panel"),u=d[0],f=d[1];function h(e,t,n,a){var i=function(){return[n.header?n.header():e(c["a"],{attrs:{icon:t.icon,label:t.desc,title:t.title,value:t.status,valueClass:f("header-value")},class:f("header")}),e("div",{class:f("content")},[n.default&&n.default()]),n.footer&&e("div",{class:[f("footer"),s["e"]]},[n.footer()])]};return e(l["a"],o()([{class:f(),scopedSlots:{default:i}},Object(r["b"])(a,!0)]))}h.props={icon:String,desc:String,title:String,status:String},t["a"]=u(h)}}]);