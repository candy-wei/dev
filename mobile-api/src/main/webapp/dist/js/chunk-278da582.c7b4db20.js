(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-278da582"],{a377:function(e,t,s){},b775:function(e,t,s){"use strict";var o=s("bc3a"),a=s.n(o),n=(s("41cb"),s("4360")),r=s("5d2d"),i=a.a.create({baseURL:"/mobile",withCredentials:!0,timeout:15e3});i.interceptors.request.use((function(e){return r["a"].getToken()&&(e.headers["Authorization"]=r["a"].getToken()),r["a"].getOpenId()&&(e.headers["openId"]=r["a"].getOpenId()),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){e.headers.token&&n["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return t}),(function(e){if(e.response)switch(e.response.status){case 401:return n["a"].dispatch("app/toggleUser",{}),n["a"].dispatch("app/toggleToken",""),Promise.reject(e.response.data.message);case 500:return e.response.data.message&&e.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),n["a"].dispatch("app/toggleUser",{}),n["a"].dispatch("app/toggleToken",""),Promise.reject(e.response.data.message)):Promise.reject(e.response.data.message);default:return Promise.reject(e.response.data.message)}})),t["a"]=i},c076:function(e,t,s){"use strict";var o=s("a377"),a=s.n(o);a.a},c24f:function(e,t,s){"use strict";var o=s("b775");t["a"]={getUserInfo:function(){return Object(o["a"])({url:"/shop/user/getInfo",method:"post"})},updateUserName:function(e){return Object(o["a"])({url:"/user/updateUserName/"+e,method:"post"})},updatePwd:function(e){return Object(o["a"])({url:"/account/updatePwd",method:"post",params:e})},updateGender:function(e){return Object(o["a"])({url:"/user/updateGender/"+e,method:"post"})},updatePassword:function(e,t,s){return Object(o["a"])({url:"/user/updatePassword/"+e+"/"+t+"/"+s,method:"post"})},upload:function(e){return console.log("file",e),Object(o["a"])({url:"/file/upload/base64",method:"post",data:e})},sendSmsCode:function(e){return Object(o["a"])({url:"/user/sendSmsCode",method:"post",params:{mobile:e}})},getTask:function(){return Object(o["a"])({url:"/shop/user/tasks",method:"post"})},getMyTeam:function(){return Object(o["a"])({url:"/shop/user/team",method:"post"})},getMyRecommend:function(){return Object(o["a"])({url:"/shop/user/recommend",method:"post"})}}},fb24:function(e,t,s){"use strict";s.r(t);var o,a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"updateMobile"},[s("van-row",[s("van-col",{attrs:{span:"24"}},[s("strong",[e._v("为确认身份，我们仍需验证您的安全手机")]),e._v(" "),s("p",[e._v("\n        点击发送短信按钮，将会发送一条有验证码的短信至手机\n        "),s("span",{staticStyle:{color:"#FF0000"}},[e._v(e._s(e.oldMobile))])])])],1),e._v(" "),s("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.showOldMobileSmsCode,expression:"showOldMobileSmsCode"}]},[s("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},model:{value:e.oldMobileSmsCode,callback:function(t){e.oldMobileSmsCode=t},expression:"oldMobileSmsCode"}},[s("van-button",{directives:[{name:"show",rawName:"v-show",value:!e.hasSendSms,expression:"!hasSendSms"}],attrs:{slot:"button",size:"small",type:"primary"},on:{click:e.sendSmsCode},slot:"button"},[e._v("发送验证码")]),e._v(" "),s("van-button",{directives:[{name:"show",rawName:"v-show",value:e.hasSendSms,expression:"hasSendSms"}],attrs:{slot:"button",size:"small",disabled:"",type:"primary"},slot:"button"},[e._v(e._s(e.second)+"秒后重新获取")])],1)],1),e._v(" "),s("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showSendBtn,expression:"showSendBtn"}],attrs:{type:"warning",block:""},on:{click:e.sendSmsCode}},[e._v("发送短信")]),e._v(" "),s("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmBtn,expression:"showConfirmBtn"}],attrs:{type:"primary",block:""},on:{click:e.confirmOldMobileSmsCode}},[e._v("确定")])],1)},n=[],r=s("bd86"),i=(s("e7e5"),s("d399")),d=(s("be7f"),s("565f")),c=(s("5246"),s("6b41")),u=(s("0653"),s("34e9")),l=(s("c194"),s("7744")),m=(s("66b9"),s("b650")),p=(s("81e6"),s("9ffb")),h=(s("4d48"),s("d1e1")),b=s("c24f"),f=s("4360"),v=s("ca00"),w={components:(o={},Object(r["a"])(o,h["a"].name,h["a"]),Object(r["a"])(o,p["a"].name,p["a"]),Object(r["a"])(o,m["a"].name,m["a"]),Object(r["a"])(o,l["a"].name,l["a"]),Object(r["a"])(o,u["a"].name,u["a"]),Object(r["a"])(o,c["a"].name,c["a"]),Object(r["a"])(o,d["a"].name,d["a"]),Object(r["a"])(o,i["a"].name,i["a"]),o),data:function(){return{oldMobile:"",oldMobileSmsCode:"",showOldMobileSmsCode:!1,hasSendSms:!1,second:60,showSendBtn:!0,showConfirmBtn:!1}},mounted:function(){this.init()},methods:{init:function(){this.oldMobile=v["a"].formatMobile(f["a"].state.app.user.mobile)},onClickLeft:function(){this.$router.go(-1)},sendSmsCode:function(){var e=this;this.showSendBtn=!1,this.showConfirmBtn=!0,this.hasSendSms=!0,this.showOldMobileSmsCode=!0,b["a"].sendSmsCode(this.oldMobile).then((function(t){e.setTimeOut();var s=t.data;Object(i["a"])("提示：测试阶段不发送短信验证码："+s)}))},setTimeOut:function(){var e=this,t=setTimeout((function(){e.setTimeOut(),e.second>0&&e.second--}),1e3);this.second<=0&&(this.hasSendSms=!1,this.second=60,clearTimeout(t))},confirmOldMobileSmsCode:function(){Object(i["a"])("敬请期待")},submit:function(){Object(i["a"])("敬请期待")}}},S=w,O=(s("c076"),s("2877")),g=Object(O["a"])(S,a,n,!1,null,null,null);t["default"]=g.exports}}]);