(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a18d397"],{"22ef":function(t,e,a){t.exports=a.p+"img/back_icon@2x.f28030ed.png"},"6e73":function(t,e,a){},b72a:function(t,e,a){t.exports=a.p+"img/home_icon@2x.f878df37.png"},b775:function(t,e,a){"use strict";var s=a("bc3a"),n=a.n(s),r=(a("41cb"),a("4360")),o=a("5d2d"),i=n.a.create({baseURL:"/mobile",withCredentials:!0,timeout:15e3});i.interceptors.request.use((function(t){return o["a"].getToken()&&(t.headers["Authorization"]=o["a"].getToken()),o["a"].getOpenId()&&(t.headers["openId"]=o["a"].getOpenId()),t}),(function(t){return Promise.reject(t)})),i.interceptors.response.use((function(t){t.headers.token&&r["a"].dispatch("app/toggleToken",t.headers.token);var e=t.data;return e}),(function(t){if(t.response)switch(t.response.status){case 401:return r["a"].dispatch("app/toggleUser",{}),r["a"].dispatch("app/toggleToken",""),Promise.reject(t.response.data.message);case 500:return t.response.data.message&&t.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),r["a"].dispatch("app/toggleUser",{}),r["a"].dispatch("app/toggleToken",""),Promise.reject(t.response.data.message)):Promise.reject(t.response.data.message);default:return Promise.reject(t.response.data.message)}})),e["a"]=i},b888:function(t,e,a){t.exports=a.p+"img/poster-bg.350f9ae3.jpg"},c24f:function(t,e,a){"use strict";var s=a("b775");e["a"]={getUserInfo:function(){return Object(s["a"])({url:"/shop/user/getInfo",method:"post"})},updateUserName:function(t){return Object(s["a"])({url:"/user/updateUserName/"+t,method:"post"})},updatePwd:function(t){return Object(s["a"])({url:"/account/updatePwd",method:"post",params:t})},updateGender:function(t){return Object(s["a"])({url:"/user/updateGender/"+t,method:"post"})},updatePassword:function(t,e,a){return Object(s["a"])({url:"/user/updatePassword/"+t+"/"+e+"/"+a,method:"post"})},upload:function(t){return console.log("file",t),Object(s["a"])({url:"/file/upload/base64",method:"post",data:t})},sendSmsCode:function(t){return Object(s["a"])({url:"/user/sendSmsCode",method:"post",params:{mobile:t}})},getTask:function(){return Object(s["a"])({url:"/shop/user/tasks",method:"post"})},getMyTeam:function(){return Object(s["a"])({url:"/shop/user/team",method:"post"})},getMyRecommend:function(){return Object(s["a"])({url:"/shop/user/recommend",method:"post"})}}},fb51:function(t,e,a){"use strict";var s=a("6e73"),n=a.n(s);n.a},ff43:function(t,e,a){"use strict";a.r(e);var s,n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-tabs",{attrs:{animated:""}},[s("van-tab",{attrs:{title:"我的推荐"}},[s("van-list",[t.recommendList.length>0?t._l(t.recommendList,(function(e){return s("van-row",{key:e,staticClass:"recomend-box",attrs:{type:"flex",align:"center"}},[s("van-col",{staticClass:"avatar-box",attrs:{span:"8"}},[s("van-image",{attrs:{round:"",width:"60px",height:"60px",src:e.headImgUrl}})],1),t._v(" "),s("van-col",{staticClass:"name-box",attrs:{offset:"1",span:"`12"}},[s("span",[t._v(t._s(e.nickName))])])],1)})):[s("van-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"center"}},[s("van-col",[t._v("暂无数据")])],1)]],2)],1),t._v(" "),s("van-tab",{attrs:{title:"我的团队"}},[s("van-list",[t.teamList.length>0?t._l(t.teamList,(function(e){return s("van-row",{key:e,staticClass:"recomend-box",attrs:{type:"flex",align:"center"}},[s("van-col",{staticClass:"avatar-box",attrs:{span:"8"}},[s("van-image",{attrs:{round:"",width:"60px",height:"60px",src:e.headImgUrl}})],1),t._v(" "),s("van-col",{staticClass:"name-box",attrs:{offset:"1",span:"`12"}},[s("span",[t._v(t._s(e.nickName))])])],1)})):[s("van-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"center"}},[s("van-col",[t._v("暂无数据")])],1)]],2)],1),t._v(" "),s("van-tab",{attrs:{title:"我的邀请码"}},[s("div",{ref:"poster",staticClass:"poster-box"},[s("qrcode",{staticClass:"qr_code",attrs:{value:t.qrcodeUrl,options:{size:85}}}),t._v(" "),s("img",{staticClass:"poster-bg",attrs:{src:a("b888"),alt:""},on:{load:t.posterLoad}}),t._v(" "),t.showPoster?s("img",{staticClass:"poster-img",attrs:{src:t.posterImg,alt:""}}):t._e()],1)])],1),t._v(" "),s("div",{staticClass:"nav",staticStyle:{display:"block"}},[s("a",{staticClass:"nav_left",attrs:{href:"javascript:void(0);"},on:{click:t.toIndex}},[s("img",{attrs:{width:"100%",src:a("b72a"),alt:""}})]),t._v(" "),t._m(0)])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"javascript:void(0);",onclick:"javascript:history.go(-1);"}},[s("img",{attrs:{width:"100%",src:a("22ef"),alt:""}})])}],o=a("bd86"),i=(a("2994"),a("2bdd")),c=(a("4056"),a("44bf")),u=(a("bda7"),a("5e46")),d=(a("da3c"),a("0b33")),p=(a("c194"),a("7744")),m=(a("3647"),a("ea47")),l=(a("4d48"),a("d1e1")),f=(a("81e6"),a("9ffb")),g=(a("5246"),a("6b41")),h=a("c0e9"),b=a.n(h),v=a("f8aa"),j=a("c24f"),x=a("5d2d"),O={components:(s={},Object(o["a"])(s,g["a"].name,g["a"]),Object(o["a"])(s,f["a"].name,f["a"]),Object(o["a"])(s,l["a"].name,l["a"]),Object(o["a"])(s,m["a"].name,m["a"]),Object(o["a"])(s,p["a"].name,p["a"]),Object(o["a"])(s,d["a"].name,d["a"]),Object(o["a"])(s,u["a"].name,u["a"]),Object(o["a"])(s,c["a"].name,c["a"]),Object(o["a"])(s,i["a"].name,i["a"]),Object(o["a"])(s,"qrcode",v["a"]),s),data:function(){return{show:!1,qrcodeUrl:"https://shop.ningyuanxinxi.com/mobile/rest/wx/auth/?parentOpenId="+x["a"].getOpenId(),posterImg:"",showPoster:!1,recommendList:[],teamList:[]}},mounted:function(){this.init()},methods:{init:function(){this.getMyRecommend(),this.getMyTeam()},getMyRecommend:function(){var t=this;j["a"].getMyRecommend().then((function(e){t.recommendList=e.data}))},getMyTeam:function(){var t=this;j["a"].getMyTeam().then((function(e){t.teamList=e.data}))},posterLoad:function(){var t=this;setTimeout((function(){t.createPoster()}),500)},createPoster:function(){var t=this,e=this.$refs.poster;b()(e,{useCORS:!0,allowTaint:!1,logging:!1,letterRendering:!0,onclone:function(t){}}).then((function(e){t.posterImg=e.toDataURL("image/png"),t.showPoster=!0}))},toIndex:function(){this.$router.push({path:"/index"})}}},w=O,_=(a("fb51"),a("2877")),y=Object(_["a"])(w,n,r,!1,null,null,null);e["default"]=y.exports}}]);